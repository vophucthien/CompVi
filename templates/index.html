<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Camera Capture Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <h1>Camera Capture</h1>
  <div class="container">
    <!-- Column 1 -->
    <div class="cam-col" id="col-1">
      <div class="controls">
        <label>IP/URL Camera 1</label>
        <input type="text" id="src-1" placeholder="rtsp://..., http://..., /dev/video0" />
        <button onclick="setSource(1)">Connect</button>
        <button onclick="stopSource(1)" class="stop">Stop</button>
      </div>

      <div class="video-box">
        <img id="video-1" src="" alt="camera1 stream"/>
        <button class="capture-btn" aria-label="Capture" onclick="capture(1)">&#128247;</button>
      </div>
      <div class="latency-meta" id="latency-1">Latency: --</div>

      <div class="image-box">
        <h3>Captured Image</h3>
        <img id="captured-1" src="" alt="captured" />
      </div>

      <div class="fragment-box">
        <h3>Fragment (processed)</h3>
        <img id="fragment-1" src="" alt="fragment" />
        <div class="process-meta" id="proc-time-1">Process time: --</div>
      </div>
    </div>

    <!-- Column 2 -->
    <div class="cam-col" id="col-2">
      <div class="controls">
        <label>IP/URL Camera 2</label>
        <input type="text" id="src-2" placeholder="rtsp://..., http://..., /dev/video1" />
        <button onclick="setSource(2)">Connect</button>
        <button onclick="stopSource(2)" class="stop">Stop</button>
      </div>

      <div class="video-box">
        <img id="video-2" src="" alt="camera2 stream"/>
        <button class="capture-btn" aria-label="Capture" onclick="capture(2)">&#128247;</button>
      </div>
      <div class="latency-meta" id="latency-2">Latency: --</div>

      <div class="image-box">
        <h3>Captured Image</h3>
        <img id="captured-2" src="" alt="captured" />
      </div>

      <div class="fragment-box">
        <h3>Fragment (processed)</h3>
        <img id="fragment-2" src="" alt="fragment" />
        <div class="process-meta" id="proc-time-2">Process time: --</div>
      </div>
    </div>
  </div>

  <div class="effect-panel">
    <h2>Image Effects</h2>
    <div class="effect-controls">
      <label for="effect-cam">Camera</label>
      <select id="effect-cam">
        <option value="1">Camera 1</option>
        <option value="2">Camera 2</option>
      </select>

      <label for="effect-type">Effect</label>
      <select id="effect-type">
        <option value="grayscale">Grayscale</option>
        <option value="gaussian_blur">Gaussian Blur</option>
        <option value="contour">Contour</option>
        <option value="edge_enhance">Edge Enhance</option>
        <option value="emboss">Emboss</option>
        <option value="sharpen">Sharpen</option>
      </select>

      <button onclick="applyEffect()">Apply</button>
    </div>
    <div class="effect-box">
      <h3>Effect Output</h3>
      <img id="effect-output" src="" alt="effect output" />
      <div class="process-meta" id="effect-time">Process time: --</div>
    </div>
  </div>

  <script src="/static/main.js"></script>
</body>
</html>
